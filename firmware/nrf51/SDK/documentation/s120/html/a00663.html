<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF51 SDK - S120 SoftDevice: UART module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF51 SDK - S120 SoftDevice
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00663.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">UART module<div class="ingroups"><a class="el" href="a00928.html">SDK Common Libraries</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>UART module interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00112.html">app_uart_comm_params_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART communication structure holding configuration settings for the peripheral.  <a href="a00112.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00111.html">app_uart_buffers_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART buffer for transmitting/receiving data.  <a href="a00111.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00113.html">app_uart_evt_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct containing events from the UART module.  <a href="a00113.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa790ff39126a00c4308f30f1139f4efa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#gaa790ff39126a00c4308f30f1139f4efa">UART_PIN_DISCONNECTED</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:gaa790ff39126a00c4308f30f1139f4efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25b7b23e541732b945b5992b5519a10f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#ga25b7b23e541732b945b5992b5519a10f">APP_UART_FIFO_INIT</a>(P_COMM_PARAMS, <a class="el" href="a00674.html#ga690f985c933da2ce6fe62b6c61dfa662">RX_BUF_SIZE</a>, <a class="el" href="a00674.html#ga5d3fb1970e1e98050006978a14b3d95e">TX_BUF_SIZE</a>, EVT_HANDLER, IRQ_PRIO, ERR_CODE)</td></tr>
<tr class="memdesc:ga25b7b23e541732b945b5992b5519a10f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for safe initialization of the UART module in a single user instance when using a FIFO together with UART.  <a href="#ga25b7b23e541732b945b5992b5519a10f">More...</a><br/></td></tr>
<tr class="separator:ga25b7b23e541732b945b5992b5519a10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab37ec15202892ba42f454daacaa38b7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#gab37ec15202892ba42f454daacaa38b7f">APP_UART_INIT</a>(P_COMM_PARAMS, EVT_HANDLER, IRQ_PRIO, ERR_CODE)</td></tr>
<tr class="memdesc:gab37ec15202892ba42f454daacaa38b7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for safe initialization of the UART module in a single user instance.  <a href="#gab37ec15202892ba42f454daacaa38b7f">More...</a><br/></td></tr>
<tr class="separator:gab37ec15202892ba42f454daacaa38b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gae903f13e59955f64c03db53d9b74ba2e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#gae903f13e59955f64c03db53d9b74ba2e">app_uart_event_handler_t</a> )(<a class="el" href="a00113.html">app_uart_evt_t</a> *p_app_uart_event)</td></tr>
<tr class="memdesc:gae903f13e59955f64c03db53d9b74ba2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling app_uart event callback.  <a href="#gae903f13e59955f64c03db53d9b74ba2e">More...</a><br/></td></tr>
<tr class="separator:gae903f13e59955f64c03db53d9b74ba2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad0b0f33b12902ce08681e06f304f0cba"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#gad0b0f33b12902ce08681e06f304f0cba">app_uart_flow_control_t</a> { <br/>
&#160;&#160;<a class="el" href="a00663.html#ggad0b0f33b12902ce08681e06f304f0cbaae7fd58fef6c10140a659be29f0b81b8b">APP_UART_FLOW_CONTROL_DISABLED</a>, 
<br/>
&#160;&#160;<a class="el" href="a00663.html#ggad0b0f33b12902ce08681e06f304f0cbaa76123f43769a3f237d5a670844c6d235">APP_UART_FLOW_CONTROL_ENABLED</a>, 
<br/>
&#160;&#160;<a class="el" href="a00663.html#ggad0b0f33b12902ce08681e06f304f0cbaa26a16d7573f75722e220954fa4fbf27f">APP_UART_FLOW_CONTROL_LOW_POWER</a>
<br/>
 }</td></tr>
<tr class="memdesc:gad0b0f33b12902ce08681e06f304f0cba"><td class="mdescLeft">&#160;</td><td class="mdescRight">UART Flow Control modes for the peripheral.  <a href="a00663.html#gad0b0f33b12902ce08681e06f304f0cba">More...</a><br/></td></tr>
<tr class="separator:gad0b0f33b12902ce08681e06f304f0cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga683d8281c00679b243c06fd9b7815557"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#ga683d8281c00679b243c06fd9b7815557">app_uart_connection_state_t</a> { <br/>
&#160;&#160;<a class="el" href="a00663.html#gga683d8281c00679b243c06fd9b7815557acb220f64509a4882b0b79f1a4620398c">APP_UART_DISCONNECTED</a>, 
<br/>
&#160;&#160;<a class="el" href="a00663.html#gga683d8281c00679b243c06fd9b7815557a026c1999c42fd293cc7ead39f6de1cf2">APP_UART_CONNECTED</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga683d8281c00679b243c06fd9b7815557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration describing current state of the UART.  <a href="a00663.html#ga683d8281c00679b243c06fd9b7815557">More...</a><br/></td></tr>
<tr class="separator:ga683d8281c00679b243c06fd9b7815557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9346b21b144fd9499e24853bbf781e17"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#ga9346b21b144fd9499e24853bbf781e17">app_uart_evt_type_t</a> { <br/>
&#160;&#160;<a class="el" href="a00663.html#gga9346b21b144fd9499e24853bbf781e17ad0c6e0d9cef6b81de23e2f2583013ef1">APP_UART_DATA_READY</a>, 
<br/>
&#160;&#160;<a class="el" href="a00663.html#gga9346b21b144fd9499e24853bbf781e17ac4e8a2753ab64a36a3bd0e723a3f26ea">APP_UART_FIFO_ERROR</a>, 
<br/>
&#160;&#160;<a class="el" href="a00663.html#gga9346b21b144fd9499e24853bbf781e17a6ee822a8a07d1be09ac336495a5238d8">APP_UART_COMMUNICATION_ERROR</a>, 
<br/>
&#160;&#160;<a class="el" href="a00663.html#gga9346b21b144fd9499e24853bbf781e17a9fa032c57eadcef66e102eb78a04c2d1">APP_UART_TX_EMPTY</a>, 
<br/>
&#160;&#160;<a class="el" href="a00663.html#gga9346b21b144fd9499e24853bbf781e17a5b4c2503e1e658ff28dcaad17eff6ac4">APP_UART_DATA</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga9346b21b144fd9499e24853bbf781e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration which defines events used by the UART module upon data reception or error.  <a href="a00663.html#ga9346b21b144fd9499e24853bbf781e17">More...</a><br/></td></tr>
<tr class="separator:ga9346b21b144fd9499e24853bbf781e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae650b57bf30da0f26ae409782de9fcbd"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#gae650b57bf30da0f26ae409782de9fcbd">app_uart_init</a> (const <a class="el" href="a00112.html">app_uart_comm_params_t</a> *p_comm_params, <a class="el" href="a00111.html">app_uart_buffers_t</a> *p_buffers, <a class="el" href="a00663.html#gae903f13e59955f64c03db53d9b74ba2e">app_uart_event_handler_t</a> error_handler, <a class="el" href="a00686.html#ga1a193131d1d5911b1ec53f9541841b1b">app_irq_priority_t</a> irq_priority, uint16_t *p_uart_uid)</td></tr>
<tr class="memdesc:gae650b57bf30da0f26ae409782de9fcbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the UART module. Use this initialization when several instances of the UART module are needed.  <a href="#gae650b57bf30da0f26ae409782de9fcbd">More...</a><br/></td></tr>
<tr class="separator:gae650b57bf30da0f26ae409782de9fcbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacddb5b7b711ef104f9eb181a13bc4503"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#gacddb5b7b711ef104f9eb181a13bc4503">app_uart_get</a> (uint8_t *p_byte)</td></tr>
<tr class="memdesc:gacddb5b7b711ef104f9eb181a13bc4503"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for getting a byte from the UART.  <a href="#gacddb5b7b711ef104f9eb181a13bc4503">More...</a><br/></td></tr>
<tr class="separator:gacddb5b7b711ef104f9eb181a13bc4503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e4c8407274a151e72ed5a226529dc36"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#ga2e4c8407274a151e72ed5a226529dc36">app_uart_put</a> (uint8_t byte)</td></tr>
<tr class="memdesc:ga2e4c8407274a151e72ed5a226529dc36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for putting a byte on the UART.  <a href="#ga2e4c8407274a151e72ed5a226529dc36">More...</a><br/></td></tr>
<tr class="separator:ga2e4c8407274a151e72ed5a226529dc36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4360a21365ae56f22344f84c20933d64"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#ga4360a21365ae56f22344f84c20933d64">app_uart_get_connection_state</a> (<a class="el" href="a00663.html#ga683d8281c00679b243c06fd9b7815557">app_uart_connection_state_t</a> *p_connection_state)</td></tr>
<tr class="memdesc:ga4360a21365ae56f22344f84c20933d64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for getting the current state of the UART.  <a href="#ga4360a21365ae56f22344f84c20933d64">More...</a><br/></td></tr>
<tr class="separator:ga4360a21365ae56f22344f84c20933d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b867b8dfc7209b87e2e8f0da0741105"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#ga2b867b8dfc7209b87e2e8f0da0741105">app_uart_flush</a> (void)</td></tr>
<tr class="memdesc:ga2b867b8dfc7209b87e2e8f0da0741105"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for flushing the RX and TX buffers (Only valid if FIFO is used). This function does nothing if FIFO is not used.  <a href="#ga2b867b8dfc7209b87e2e8f0da0741105">More...</a><br/></td></tr>
<tr class="separator:ga2b867b8dfc7209b87e2e8f0da0741105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b5b23229363aefa52be33360dfb5fde"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00663.html#ga8b5b23229363aefa52be33360dfb5fde">app_uart_close</a> (uint16_t app_uart_id)</td></tr>
<tr class="memdesc:ga8b5b23229363aefa52be33360dfb5fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for closing the UART module.  <a href="#ga8b5b23229363aefa52be33360dfb5fde">More...</a><br/></td></tr>
<tr class="separator:ga8b5b23229363aefa52be33360dfb5fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>UART module interface. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga25b7b23e541732b945b5992b5519a10f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_UART_FIFO_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">P_COMM_PARAMS, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="a00674.html#ga690f985c933da2ce6fe62b6c61dfa662">RX_BUF_SIZE</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="a00674.html#ga5d3fb1970e1e98050006978a14b3d95e">TX_BUF_SIZE</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">EVT_HANDLER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">IRQ_PRIO, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ERR_CODE&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span>                                                                                             \</div>
<div class="line">    {                                                                                              \</div>
<div class="line">        uint16_t           APP_UART_UID = 0;                                                       <a class="code" href="a00111.html" title="UART buffer for transmitting/receiving data.">\</a></div>
<div class="line"><a class="code" href="a00111.html" title="UART buffer for transmitting/receiving data.">        app_uart_buffers_t</a> buffers;                                                                \</div>
<div class="line">        static uint8_t     rx_buf[<a class="code" href="a00674.html#ga690f985c933da2ce6fe62b6c61dfa662">RX_BUF_SIZE</a>];                                                    \</div>
<div class="line">        static uint8_t     tx_buf[<a class="code" href="a00674.html#ga5d3fb1970e1e98050006978a14b3d95e">TX_BUF_SIZE</a>];                                                    \</div>
<div class="line">                                                                                                   \</div>
<div class="line">        buffers.<a class="code" href="a00111.html#ab5c77995614a78b4a7baf6f5ab59bb5c">rx_buf</a>      = rx_buf;                                                              \</div>
<div class="line">        buffers.rx_buf_size = <span class="keyword">sizeof</span> (rx_buf);                                                     \</div>
<div class="line">        buffers.tx_buf      = tx_buf;                                                              \</div>
<div class="line">        buffers.tx_buf_size = <span class="keyword">sizeof</span> (tx_buf);                                                     \</div>
<div class="line">        ERR_CODE = <a class="code" href="a00663.html#gae650b57bf30da0f26ae409782de9fcbd" title="Function for initializing the UART module. Use this initialization when several instances of the UART...">app_uart_init</a>(P_COMM_PARAMS, &amp;buffers, EVT_HANDLER, IRQ_PRIO, &amp;APP_UART_UID);   \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Macro for safe initialization of the UART module in a single user instance when using a FIFO together with UART. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">P_COMM_PARAMS</td><td>Pointer to a UART communication structure: <a class="el" href="a00112.html" title="UART communication structure holding configuration settings for the peripheral.">app_uart_comm_params_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">RX_BUF_SIZE</td><td>Size of desired RX buffer, must be a power of 2 or ZERO (No FIFO). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TX_BUF_SIZE</td><td>Size of desired TX buffer, must be a power of 2 or ZERO (No FIFO). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">EVT_HANDLER</td><td>Event handler function to be called when an event occurs in the UART module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">IRQ_PRIO</td><td>IRQ priority, app_irq_priority_t, for the UART module irq handler. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ERR_CODE</td><td>The return value of the UART initialization function will be written to this parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Since this macro allocates a buffer and registers the module as a GPIOTE user when flow control is enabled, it must only be called once. </dd></dl>

</div>
</div>
<a class="anchor" id="gab37ec15202892ba42f454daacaa38b7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APP_UART_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">P_COMM_PARAMS, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">EVT_HANDLER, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">IRQ_PRIO, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ERR_CODE&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span>                                                                                             \</div>
<div class="line">    {                                                                                              \</div>
<div class="line">        uint16_t APP_UART_UID = 0;                                                                 \</div>
<div class="line">        ERR_CODE = <a class="code" href="a00663.html#gae650b57bf30da0f26ae409782de9fcbd" title="Function for initializing the UART module. Use this initialization when several instances of the UART...">app_uart_init</a>(P_COMM_PARAMS, NULL, EVT_HANDLER, IRQ_PRIO, &amp;APP_UART_UID);       \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment -->
<p>Macro for safe initialization of the UART module in a single user instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">P_COMM_PARAMS</td><td>Pointer to a UART communication structure: <a class="el" href="a00112.html" title="UART communication structure holding configuration settings for the peripheral.">app_uart_comm_params_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">EVT_HANDLER</td><td>Event handler function to be called when an event occurs in the UART module. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">IRQ_PRIO</td><td>IRQ priority, app_irq_priority_t, for the UART module irq handler. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ERR_CODE</td><td>The return value of the UART initialization function will be written to this parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Since this macro allocates registers the module as a GPIOTE user when flow control is enabled, it must only be called once. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa790ff39126a00c4308f30f1139f4efa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UART_PIN_DISCONNECTED&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Value indicating that no pin is connected to this UART register. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gae903f13e59955f64c03db53d9b74ba2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*  app_uart_event_handler_t)(<a class="el" href="a00113.html">app_uart_evt_t</a> *p_app_uart_event)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for handling app_uart event callback. </p>
<p>Upon an event in the app_uart module this callback function will be called to notify the application about the event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_app_uart_event</td><td>Pointer to UART event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga683d8281c00679b243c06fd9b7815557"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00663.html#ga683d8281c00679b243c06fd9b7815557">app_uart_connection_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration describing current state of the UART. </p>
<p>The connection state can be fetched by the application using the function call <a class="el" href="a00663.html#ga4360a21365ae56f22344f84c20933d64">app_uart_get_connection_state</a>. When hardware flow control is used</p>
<ul>
<li>APP_UART_CONNECTED: Communication is ongoing.</li>
<li>APP_UART_DISCONNECTED: No communication is ongoing.</li>
</ul>
<p>When no hardware flow control is used</p>
<ul>
<li>APP_UART_CONNECTED: Always returned as bytes can always be received/transmitted. </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga683d8281c00679b243c06fd9b7815557acb220f64509a4882b0b79f1a4620398c"></a>APP_UART_DISCONNECTED</em>&nbsp;</td><td class="fielddoc">
<p>State indicating that the UART is disconnected and cannot receive or transmit bytes. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga683d8281c00679b243c06fd9b7815557a026c1999c42fd293cc7ead39f6de1cf2"></a>APP_UART_CONNECTED</em>&nbsp;</td><td class="fielddoc">
<p>State indicating that the UART is connected and ready to receive or transmit bytes. If flow control is disabled, the state will always be connected. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga9346b21b144fd9499e24853bbf781e17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00663.html#ga9346b21b144fd9499e24853bbf781e17">app_uart_evt_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration which defines events used by the UART module upon data reception or error. </p>
<p>The event type is used to indicate the type of additional information in the event <a class="el" href="a00113.html">app_uart_evt_t</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga9346b21b144fd9499e24853bbf781e17ad0c6e0d9cef6b81de23e2f2583013ef1"></a>APP_UART_DATA_READY</em>&nbsp;</td><td class="fielddoc">
<p>An event indicating that UART data has been received. The data is available in the FIFO and can be fetched using <a class="el" href="a00663.html#gacddb5b7b711ef104f9eb181a13bc4503">app_uart_get</a>. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga9346b21b144fd9499e24853bbf781e17ac4e8a2753ab64a36a3bd0e723a3f26ea"></a>APP_UART_FIFO_ERROR</em>&nbsp;</td><td class="fielddoc">
<p>An error in the FIFO module used by the app_uart module has occured. The FIFO error code is stored in app_uart_evt_t.data.error_code field. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga9346b21b144fd9499e24853bbf781e17a6ee822a8a07d1be09ac336495a5238d8"></a>APP_UART_COMMUNICATION_ERROR</em>&nbsp;</td><td class="fielddoc">
<p>An communication error has occured during reception. The error is stored in app_uart_evt_t.data.error_communication field. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga9346b21b144fd9499e24853bbf781e17a9fa032c57eadcef66e102eb78a04c2d1"></a>APP_UART_TX_EMPTY</em>&nbsp;</td><td class="fielddoc">
<p>An event indicating that UART has completed transmission of all available data in the TX FIFO. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga9346b21b144fd9499e24853bbf781e17a5b4c2503e1e658ff28dcaad17eff6ac4"></a>APP_UART_DATA</em>&nbsp;</td><td class="fielddoc">
<p>An event indicating that UART data has been received, and data is present in data field. This event is only used when no FIFO is configured. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gad0b0f33b12902ce08681e06f304f0cba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00663.html#gad0b0f33b12902ce08681e06f304f0cba">app_uart_flow_control_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>UART Flow Control modes for the peripheral. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggad0b0f33b12902ce08681e06f304f0cbaae7fd58fef6c10140a659be29f0b81b8b"></a>APP_UART_FLOW_CONTROL_DISABLED</em>&nbsp;</td><td class="fielddoc">
<p>UART Hw Flow Control is disabled. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggad0b0f33b12902ce08681e06f304f0cbaa76123f43769a3f237d5a670844c6d235"></a>APP_UART_FLOW_CONTROL_ENABLED</em>&nbsp;</td><td class="fielddoc">
<p>Standard UART Hw Flow Control is enabled. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggad0b0f33b12902ce08681e06f304f0cbaa26a16d7573f75722e220954fa4fbf27f"></a>APP_UART_FLOW_CONTROL_LOW_POWER</em>&nbsp;</td><td class="fielddoc">
<p>Specialized UART Hw Flow Control is used. The Low Power setting allows the nRF51 to Power Off the UART module when CTS is in-active, and re-enabling the UART when the CTS signal becomes active. This allows the nRF51 to safe power by only using the UART module when it is needed by the remote site. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga8b5b23229363aefa52be33360dfb5fde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_uart_close </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>app_uart_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for closing the UART module. </p>
<p>This function will close any on-going UART transmissions and disable itself in the GPTIO module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">app_uart_id</td><td>User id for the UART module. The app_uart_uid must be identical to the UART id returned on initialization and which is currently in use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If successfully closed. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>If an invalid user id is provided or the user id differs from the current active user. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2b867b8dfc7209b87e2e8f0da0741105"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_uart_flush </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for flushing the RX and TX buffers (Only valid if FIFO is used). This function does nothing if FIFO is not used. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>Flushing completed (Current implementation will always succeed). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacddb5b7b711ef104f9eb181a13bc4503"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_uart_get </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_byte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for getting a byte from the UART. </p>
<p>This function will get the next byte from the RX buffer. If the RX buffer is empty an error code will be returned and the app_uart module will generate an event upon reception of the first byte which is added to the RX buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_byte</td><td>Pointer to an address where next byte received on the UART will be copied.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If a byte has been received and pushed to the pointer provided. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NOT_FOUND</td><td>If no byte is available in the RX buffer of the app_uart module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4360a21365ae56f22344f84c20933d64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_uart_get_connection_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00663.html#ga683d8281c00679b243c06fd9b7815557">app_uart_connection_state_t</a> *&#160;</td>
          <td class="paramname"><em>p_connection_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for getting the current state of the UART. </p>
<p>If flow control is disabled, the state is assumed to always be APP_UART_CONNECTED. </p>
<pre class="fragment">     When using flow control the state will be controlled by the CTS. If CTS is set active
     by the remote side, or the app_uart module is in the process of transmitting a byte,
     app_uart is in APP_UART_CONNECTED state. If CTS is set inactive by remote side app_uart
     will not get into APP_UART_DISCONNECTED state until the last byte in the TXD register
     is fully transmitted.

     Internal states in the state machine are mapped to the general connected/disconnected
     states in the following ways:

     - UART_ON    = CONNECTED
     - UART_READY = CONNECTED
     - UART_WAIT  = CONNECTED
     - UART_OFF   = DISCONNECTED.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_connection_state</td><td>Current connection state of the UART.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>The connection state was successfully retrieved. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae650b57bf30da0f26ae409782de9fcbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_uart_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00112.html">app_uart_comm_params_t</a> *&#160;</td>
          <td class="paramname"><em>p_comm_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00111.html">app_uart_buffers_t</a> *&#160;</td>
          <td class="paramname"><em>p_buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00663.html#gae903f13e59955f64c03db53d9b74ba2e">app_uart_event_handler_t</a>&#160;</td>
          <td class="paramname"><em>error_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00686.html#ga1a193131d1d5911b1ec53f9541841b1b">app_irq_priority_t</a>&#160;</td>
          <td class="paramname"><em>irq_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>p_uart_uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for initializing the UART module. Use this initialization when several instances of the UART module are needed. </p>
<p>This initialization will return a UART user id for the caller. The UART user id must be used upon re-initialization of the UART or closing of the module for the user. If single instance usage is needed, the <a class="el" href="a00663.html#gab37ec15202892ba42f454daacaa38b7f" title="Macro for safe initialization of the UART module in a single user instance.">APP_UART_INIT()</a> macro should be used instead.</p>
<dl class="section note"><dt>Note</dt><dd>Normally single instance initialization should be done using the <a class="el" href="a00663.html#gab37ec15202892ba42f454daacaa38b7f" title="Macro for safe initialization of the UART module in a single user instance.">APP_UART_INIT()</a> or APP_UART_INIT_FIFO() macro depending on whether the FIFO should be used by the UART, as that will allocate the buffers needed by the UART module (including aligning the buffer correctly).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_comm_params</td><td>Pin and communication parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_buffers</td><td>RX and TX buffers, NULL is FIFO is not used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error_handler</td><td>Function to be called in case of an error. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">irq_priority</td><td>Interrupt priority level. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_uart_uid</td><td>User id for the UART module. The p_uart_uid must be used if re-initialization and/or closing of the UART module is needed. If the value pointed to by p_uart_uid is zero, this is considdered a first time initialization. Otherwise this is considered a re-initialization for the user with id *p_uart_uid.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If successful initialization. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_LENGTH</td><td>If a provided buffer is not a power of two. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If one of the provided buffers is a NULL pointer.</td></tr>
  </table>
  </dd>
</dl>
<p>The below errors are propagated by the UART module to the caller upon registration when Hardware Flow Control is enabled. When Hardware Flow Control is not used, these errors cannot occur. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>The GPIOTE module is not in a valid state when registering the UART module as a user. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>The UART module provides an invalid callback function when registering the UART module as a user. Or the value pointed to by *p_uart_uid is not a valid GPIOTE number. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NO_MEM</td><td>GPIOTE module has reached the maximum number of users. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2e4c8407274a151e72ed5a226529dc36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_uart_put </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>byte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for putting a byte on the UART. </p>
<p>This call is non-blocking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">byte</td><td>Byte to be transmitted on the UART.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the byte was successfully put on the TX buffer for transmission. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NO_MEM</td><td>If no more space is available in the TX buffer. NRF_ERROR_NO_MEM may occur if flow control is enabled and CTS signal is high for a long period and the buffer fills up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 7 2015 14:36:46 for nRF51 SDK - S120 SoftDevice by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
