<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF51 SDK - S120 SoftDevice: Context Management APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF51 SDK - S120 SoftDevice
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00910.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Context Management APIs<div class="ingroups"><a class="el" href="a00907.html">Device Module APIs</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility APIs offered by the device manager to get information about the peer if and when needed.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0a8bf802163dc62511e7173e79540774"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0a8bf802163dc62511e7173e79540774"></a>
<a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>dm_device_add</b> (<a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> *p_handle, <a class="el" href="a00906.html#ga7e116c1567d58a325c14a1b8a9a75d48">dm_device_context_t</a> const *p_context)</td></tr>
<tr class="separator:ga0a8bf802163dc62511e7173e79540774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf267e34f237c41665fd9df15dd32c531"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00910.html#gaf267e34f237c41665fd9df15dd32c531">dm_device_delete</a> (<a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *p_handle)</td></tr>
<tr class="memdesc:gaf267e34f237c41665fd9df15dd32c531"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for deleting a peer device context and all related information from the database.  <a href="#gaf267e34f237c41665fd9df15dd32c531">More...</a><br/></td></tr>
<tr class="separator:gaf267e34f237c41665fd9df15dd32c531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga677524b3230bd620c91a83e4f68e3e01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00910.html#ga677524b3230bd620c91a83e4f68e3e01">dm_device_delete_all</a> (<a class="el" href="a00906.html#ga3c013385ac2ef5502370f598308d0339">dm_application_instance_t</a> const *p_handle)</td></tr>
<tr class="memdesc:ga677524b3230bd620c91a83e4f68e3e01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for deleting all peer device context and all related information from the database.  <a href="#ga677524b3230bd620c91a83e4f68e3e01">More...</a><br/></td></tr>
<tr class="separator:ga677524b3230bd620c91a83e4f68e3e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cc7db88fe9495e3d3da074bfd4800ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00910.html#ga8cc7db88fe9495e3d3da074bfd4800ba">dm_service_context_set</a> (<a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *p_handle, <a class="el" href="a00242.html">dm_service_context_t</a> const *p_context)</td></tr>
<tr class="memdesc:ga8cc7db88fe9495e3d3da074bfd4800ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for setting Service Context for a peer device identified by 'p_handle' parameter.  <a href="#ga8cc7db88fe9495e3d3da074bfd4800ba">More...</a><br/></td></tr>
<tr class="separator:ga8cc7db88fe9495e3d3da074bfd4800ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7ee88165a162a5754ea971c2cca1df4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00910.html#gad7ee88165a162a5754ea971c2cca1df4">dm_service_context_get</a> (<a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *p_handle, <a class="el" href="a00242.html">dm_service_context_t</a> *p_context)</td></tr>
<tr class="memdesc:gad7ee88165a162a5754ea971c2cca1df4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for getting Service Context for a peer device identified by 'p_handle' parameter.  <a href="#gad7ee88165a162a5754ea971c2cca1df4">More...</a><br/></td></tr>
<tr class="separator:gad7ee88165a162a5754ea971c2cca1df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5aa5e62e38607fa93a2bd33ca101bed9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00910.html#ga5aa5e62e38607fa93a2bd33ca101bed9">dm_service_context_delete</a> (<a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *p_handle)</td></tr>
<tr class="memdesc:ga5aa5e62e38607fa93a2bd33ca101bed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for deleting a Service Context for a peer device identified by the 'p_handle' parameter.  <a href="#ga5aa5e62e38607fa93a2bd33ca101bed9">More...</a><br/></td></tr>
<tr class="separator:ga5aa5e62e38607fa93a2bd33ca101bed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e5dc36911e6ea1588eec9a3dc320943"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00910.html#ga8e5dc36911e6ea1588eec9a3dc320943">dm_application_context_set</a> (<a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *p_handle, <a class="el" href="a00906.html#gaca2973e52020d6f1078540f0b1a732fa">dm_application_context_t</a> const *p_context)</td></tr>
<tr class="memdesc:ga8e5dc36911e6ea1588eec9a3dc320943"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for setting Application Context for a peer device identified by the 'p_handle' parameter.  <a href="#ga8e5dc36911e6ea1588eec9a3dc320943">More...</a><br/></td></tr>
<tr class="separator:ga8e5dc36911e6ea1588eec9a3dc320943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac60803907fbc03b492f28cc254b0799f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00910.html#gac60803907fbc03b492f28cc254b0799f">dm_application_context_get</a> (<a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *p_handle, <a class="el" href="a00906.html#gaca2973e52020d6f1078540f0b1a732fa">dm_application_context_t</a> *p_context)</td></tr>
<tr class="memdesc:gac60803907fbc03b492f28cc254b0799f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for getting Application Context for a peer device identified by the 'p_handle' parameter.  <a href="#gac60803907fbc03b492f28cc254b0799f">More...</a><br/></td></tr>
<tr class="separator:gac60803907fbc03b492f28cc254b0799f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff35c970367a7966cbb393fe24147ca5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00910.html#gaff35c970367a7966cbb393fe24147ca5">dm_application_context_delete</a> (<a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *p_handle)</td></tr>
<tr class="memdesc:gaff35c970367a7966cbb393fe24147ca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for deleting Application Context for a peer device identified by the 'p_handle' parameter.  <a href="#gaff35c970367a7966cbb393fe24147ca5">More...</a><br/></td></tr>
<tr class="separator:gaff35c970367a7966cbb393fe24147ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Utility APIs offered by the device manager to get information about the peer if and when needed. </p>
<p>This group of API allow the application to access information that is not required to be maintained by the application but may be needed. Hence it is possible to get the information from the module instead of mapping all the information with a device context. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaff35c970367a7966cbb393fe24147ca5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_application_context_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *&#160;</td>
          <td class="paramname"><em>p_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for deleting Application Context for a peer device identified by the 'p_handle' parameter. </p>
<p>Delete Application Context for a peer device identified by the 'p_handle' parameter. If this API returns NRF_SUCCESS, DM_EVT_APPL_CONTEXT_DELETED event is notified to the application. The event result notified along with the event and indicates success or failure of this procedure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_handle</td><td>Identifies peer device for which procedure is requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the API is called without module initialization and/or application registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If the p_handle is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If peer is not identified the handle provided by the application. </td></tr>
    <tr><td class="paramname">DM_NO_APP_CONTEXT</td><td>If no application context was set that can be deleted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The API returns FEATURE_NOT_ENABLED if the DEVICE_MANAGER_APP_CONTEXT_SIZE is set to zero. </dd></dl>

</div>
</div>
<a class="anchor" id="gac60803907fbc03b492f28cc254b0799f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_application_context_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *&#160;</td>
          <td class="paramname"><em>p_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00906.html#gaca2973e52020d6f1078540f0b1a732fa">dm_application_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for getting Application Context for a peer device identified by the 'p_handle' parameter. </p>
<p>Get Application Context for a peer device identified by the 'p_handle' parameter. If this API returns NRF_SUCCESS, DM_EVT_APPL_CONTEXT_LOADED event is notified to the application. Event result notified along with the event indicates success or failure of this procedure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_handle</td><td>Identifies peer device for which procedure is requested. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_context</td><td>Application context being requested. The context information includes length of data and pointer to the contextual data is provided.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the API is called without module initialization and/or application registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If p_handle and/or p_context is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If the peer is not identified by the handle provided by the application. </td></tr>
    <tr><td class="paramname">DM_NO_APP_CONTEXT</td><td>If no application context was set that can be fetched.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The API returns FEATURE_NOT_ENABLED in case DEVICE_MANAGER_APP_CONTEXT_SIZE is set to zero. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8e5dc36911e6ea1588eec9a3dc320943"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_application_context_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *&#160;</td>
          <td class="paramname"><em>p_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00906.html#gaca2973e52020d6f1078540f0b1a732fa">dm_application_context_t</a> const *&#160;</td>
          <td class="paramname"><em>p_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for setting Application Context for a peer device identified by the 'p_handle' parameter. </p>
<p>This application allows the setting of the application context for the peer device identified by the 'p_handle'. Application context is stored persistently by the module and can be requested by the application at any time using the <a class="el" href="a00910.html#gac60803907fbc03b492f28cc254b0799f">dm_application_context_get</a> API. Note that this procedure is permitted only for bonded devices. If the device is not bonded, application context cannot be set. However, it is not mandatory that the bonded device is connected when requesting this procedure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_handle</td><td>Identifies peer device for which procedure is requested.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_context</td><td>Application context being set. The context information includes length of the data and pointer to the contextual data being set. The memory pointed to by the data pointer is assumed to be resident when API is being called and can be freed or reused once the set procedure is complete. Set procedure completion is notified by the event <a class="el" href="a00905.html#gaad12d77f6d3eccb97277869480549ee5">DM_EVT_APPL_CONTEXT_STORED</a>. The event result is notified along with the event and indicates success or failure of this procedure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the API is called without module initialization and/or application registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If p_handle and/or p_context is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If peer is not identified the handle provided by the application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The API returns FEATURE_NOT_ENABLED in case DEVICE_MANAGER_APP_CONTEXT_SIZE is set to zero. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf267e34f237c41665fd9df15dd32c531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_device_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *&#160;</td>
          <td class="paramname"><em>p_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for deleting a peer device context and all related information from the database. </p>
<p>Delete peer device context and all related information from database. If this API returns NRF_SUCCESS, DM_EVT_DEVICE_CONTEXT_DELETED event is notified to the application. Event result notified along with the event indicates success or failure of this procedure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_handle</td><td>Identifies the peer device to be deleted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>on success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>In the API is called without module initialization and/or application registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If p_handle is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If peer is not identified the handle provided by the application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Deleting device context results in deleting service and application context for the bonded device. The respective events DM_EVT_SERVICE_CONTEXT_DELETED and DM_EVT_APPL_CONTEXT_DELETED are not notified to the application. </dd></dl>

</div>
</div>
<a class="anchor" id="ga677524b3230bd620c91a83e4f68e3e01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_device_delete_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#ga3c013385ac2ef5502370f598308d0339">dm_application_instance_t</a> const *&#160;</td>
          <td class="paramname"><em>p_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for deleting all peer device context and all related information from the database. </p>
<p>Delete peer device context and all related information from database. If this API returns NRF_SUCCESS, DM_EVT_DEVICE_CONTEXT_DELETED event is notified to the application for each device that is deleted from the data base. Event result notified along with the event indicates success or failure of this procedure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_handle</td><td>Identifies application instance that is requesting the deletion of all bonded devices.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the API is called without module initialization and/or application registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If p_handle is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If peer is not identified the handle provided by the application.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Deleting device context results in deleting both service and application context for the bonded device. The respective events DM_EVT_SERVICE_CONTEXT_DELETED and DM_EVT_APPL_CONTEXT_DELETED are not notified to the application. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5aa5e62e38607fa93a2bd33ca101bed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_service_context_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *&#160;</td>
          <td class="paramname"><em>p_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for deleting a Service Context for a peer device identified by the 'p_handle' parameter. </p>
<p>This API allows application to delete a Service Context identified for a peer device identified by the 'p_handle' parameter. If this API returns NRF_SUCCESS, DM_EVT_SERVICE_CONTEXT_DELETED event is notified to the application. Event result is notified along with the event and indicates success or failure of this procedure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_handle</td><td>Identifies peer device for which procedure is requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the API is called without module initialization and/or application registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If p_handle is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If the peer is not identified by the handle provided by the application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad7ee88165a162a5754ea971c2cca1df4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_service_context_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *&#160;</td>
          <td class="paramname"><em>p_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00242.html">dm_service_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for getting Service Context for a peer device identified by 'p_handle' parameter. </p>
<p>Get Service Context for a peer device identified by the 'p_handle' parameter. If this API returns NRF_SUCCESS, DM_EVT_SERVICE_CONTEXT_LOADED event is notified to the application. The event result is notified along with the event indicates success or failure of this procedure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_handle</td><td>Identifies peer device for which procedure is requested. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_context</td><td>Application context being requested. The context information includes length of the data and a pointer to the data. Note that requesting a 'get' of application does not need to provide memory, the pointer to data will be pointing to service data and hence no data movement is involved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>In case API is called without module initialization and/or application registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If p_handle is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If the peer is not identified by the handle provided by the application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8cc7db88fe9495e3d3da074bfd4800ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_service_context_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#gaf4616538d9102b901e86d92fc4e82c5c">dm_handle_t</a> const *&#160;</td>
          <td class="paramname"><em>p_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00242.html">dm_service_context_t</a> const *&#160;</td>
          <td class="paramname"><em>p_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for setting Service Context for a peer device identified by 'p_handle' parameter. </p>
<p>This API allows application to Set Service Context for a peer device identified by the 'p_handle' parameter. This API is useful when the Service Context cannot be requested from the SoftDevice, but needs to be assembled by the application or an another module. (or when service context is exchanged in an out of band way.) This API could also be used to trigger a storing of service context into persistent memory. If this is desired, a NULL pointer could be passed to the p_context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_handle</td><td>Identifies peer device for which the procedure is requested. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_context</td><td>Service context being set. The context information includes length of data and pointer to the contextual data being set. The memory pointed to by the pointer to data is assumed to be resident when API is being called and can be freed or reused once the set procedure is complete. Set procedure completion is indicated by the event <a class="el" href="a00905.html#ga4918299ce9ecf37463834a62e4cc28b0">DM_EVT_SERVICE_CONTEXT_STORED</a>. The Event result is notified along with the event and indicates success or failure of this procedure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the API is called without module initialization and/or application registration. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If p_handle is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_ADDR</td><td>If the peer is not identified by the handle provided by the application. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 7 2015 14:36:55 for nRF51 SDK - S120 SoftDevice by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
