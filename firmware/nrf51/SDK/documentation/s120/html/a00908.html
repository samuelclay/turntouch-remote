<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF51 SDK - S120 SoftDevice: Device Module Set-up APIs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF51 SDK - S120 SoftDevice
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00908.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Device Module Set-up APIs<div class="ingroups"><a class="el" href="a00907.html">Device Module APIs</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Initialization &amp; registration APIs that are pre-requisite for all other module procedures.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1cd097710c8eac668f73683156d4da11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00908.html#ga1cd097710c8eac668f73683156d4da11">dm_init</a> (<a class="el" href="a00239.html">dm_init_param_t</a> const *p_init_param)</td></tr>
<tr class="memdesc:ga1cd097710c8eac668f73683156d4da11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Module Initialization Routine.  <a href="#ga1cd097710c8eac668f73683156d4da11">More...</a><br/></td></tr>
<tr class="separator:ga1cd097710c8eac668f73683156d4da11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a720f4da49fffa688f596d77951e5b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00908.html#ga5a720f4da49fffa688f596d77951e5b3">dm_register</a> (<a class="el" href="a00906.html#ga3c013385ac2ef5502370f598308d0339">dm_application_instance_t</a> *p_appl_instance, <a class="el" href="a00233.html">dm_application_param_t</a> const *p_appl_param)</td></tr>
<tr class="memdesc:ga5a720f4da49fffa688f596d77951e5b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for registering the application.  <a href="#ga5a720f4da49fffa688f596d77951e5b3">More...</a><br/></td></tr>
<tr class="separator:ga5a720f4da49fffa688f596d77951e5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57e8fe96dc9be50938198204894eceeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00908.html#ga57e8fe96dc9be50938198204894eceeb">dm_ble_evt_handler</a> (<a class="el" href="a00129.html">ble_evt_t</a> *p_ble_evt)</td></tr>
<tr class="memdesc:ga57e8fe96dc9be50938198204894eceeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling BLE events.  <a href="#ga57e8fe96dc9be50938198204894eceeb">More...</a><br/></td></tr>
<tr class="separator:ga57e8fe96dc9be50938198204894eceeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Initialization &amp; registration APIs that are pre-requisite for all other module procedures. </p>
<p>This section describes the Module Initialization and Registration APIs needed to be set up by the application before device manager can start managing devices and device contexts for the application. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga57e8fe96dc9be50938198204894eceeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dm_ble_evt_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00129.html">ble_evt_t</a> *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for handling BLE events. </p>
<p>BLE Event Handler for the module. This routine should be called from BLE stack event dispatcher for the module to work as expected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_evt</td><td>BLE stack event being dispatched to the function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1cd097710c8eac668f73683156d4da11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00239.html">dm_init_param_t</a> const *&#160;</td>
          <td class="paramname"><em>p_init_param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Module Initialization Routine. </p>
<p>Function for initializing the module. Must called before any other APIs of the module are used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_init_param</td><td>Initialization parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is mandatory that pstorage is initialized before initializing this module. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5a720f4da49fffa688f596d77951e5b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00687.html#gaf6c20fb483036617204f12e99e0b997b">ret_code_t</a> dm_register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00906.html#ga3c013385ac2ef5502370f598308d0339">dm_application_instance_t</a> *&#160;</td>
          <td class="paramname"><em>p_appl_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00233.html">dm_application_param_t</a> const *&#160;</td>
          <td class="paramname"><em>p_appl_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for registering the application. </p>
<p>This routine is used by the application to register for asynchronous events with the device manager. During registration the application also indicates the services that it intends to support on this instance. It is possible to register multiple times with the device manager. At least one instance shall be registered with the device manager after the module has been initialized. Maximum number of application instances device manager can support is determined by DM_MAX_APPLICATIONS.</p>
<p>All applications must be registered before initiating or accepting connections from the peer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_appl_param</td><td>Application parameters. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_appl_instance</td><td>Application Instance Identifier in case registration is successful.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>On success, else an error code indicating reason for failure. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the API is called without module initialization. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NO_MEM</td><td>If module cannot support more applications.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Currently only one application instance is supported by the module. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 7 2015 14:36:55 for nRF51 SDK - S120 SoftDevice by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
