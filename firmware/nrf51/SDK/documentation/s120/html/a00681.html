<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF51 SDK - S120 SoftDevice: Simple Timer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF51 SDK - S120 SoftDevice
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00681.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Simple Timer<div class="ingroups"><a class="el" href="a00928.html">SDK Common Libraries</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Simple timer module.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga483768f93042f5718cc9e194936a8918"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga483768f93042f5718cc9e194936a8918"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00681.html#ga483768f93042f5718cc9e194936a8918">app_simple_timer_timeout_handler_t</a> )(void *p_context)</td></tr>
<tr class="memdesc:ga483768f93042f5718cc9e194936a8918"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer time-out handler type. <br/></td></tr>
<tr class="separator:ga483768f93042f5718cc9e194936a8918"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad7076002d6f9bc89a678c94a49c061e4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00681.html#gad7076002d6f9bc89a678c94a49c061e4">app_simple_timer_mode_t</a> { <br/>
&#160;&#160;<a class="el" href="a00681.html#ggad7076002d6f9bc89a678c94a49c061e4a189bddae8d6e0965ca9a12c83dc8a35a">APP_SIMPLE_TIMER_MODE_SINGLE_SHOT</a>, 
<br/>
&#160;&#160;<a class="el" href="a00681.html#ggad7076002d6f9bc89a678c94a49c061e4a7ac2ba9bfb3b1b37c0eb0acb06a9a9f7">APP_SIMPLE_TIMER_MODE_REPEATED</a>
<br/>
 }</td></tr>
<tr class="memdesc:gad7076002d6f9bc89a678c94a49c061e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer modes.  <a href="a00681.html#gad7076002d6f9bc89a678c94a49c061e4">More...</a><br/></td></tr>
<tr class="separator:gad7076002d6f9bc89a678c94a49c061e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7763826e316676eefab5416529f2da18"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00681.html#ga7763826e316676eefab5416529f2da18">app_simple_timer_init</a> (void)</td></tr>
<tr class="memdesc:ga7763826e316676eefab5416529f2da18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for configuring and setting up the timer hardware.  <a href="#ga7763826e316676eefab5416529f2da18">More...</a><br/></td></tr>
<tr class="separator:ga7763826e316676eefab5416529f2da18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb5a3205c34aa67769059f8fa7f63b3f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00681.html#gadb5a3205c34aa67769059f8fa7f63b3f">app_simple_timer_start</a> (<a class="el" href="a00681.html#gad7076002d6f9bc89a678c94a49c061e4">app_simple_timer_mode_t</a> mode, <a class="el" href="a00681.html#ga483768f93042f5718cc9e194936a8918">app_simple_timer_timeout_handler_t</a> timeout_handler, uint16_t timeout_ticks, void *p_context)</td></tr>
<tr class="memdesc:gadb5a3205c34aa67769059f8fa7f63b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for starting a timer.  <a href="#gadb5a3205c34aa67769059f8fa7f63b3f">More...</a><br/></td></tr>
<tr class="separator:gadb5a3205c34aa67769059f8fa7f63b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2de31d54126b0f7ee6ac7c6f8a1bec51"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00681.html#ga2de31d54126b0f7ee6ac7c6f8a1bec51">app_simple_timer_stop</a> (void)</td></tr>
<tr class="memdesc:ga2de31d54126b0f7ee6ac7c6f8a1bec51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for stopping the timer.  <a href="#ga2de31d54126b0f7ee6ac7c6f8a1bec51">More...</a><br/></td></tr>
<tr class="separator:ga2de31d54126b0f7ee6ac7c6f8a1bec51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20e4f91287f50df937981e64f8f29e1a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00681.html#ga20e4f91287f50df937981e64f8f29e1a">app_simple_timer_uninit</a> (void)</td></tr>
<tr class="memdesc:ga20e4f91287f50df937981e64f8f29e1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for uninitializing the timer. Should be called also when the timer is not used anymore to reach lowest power consumption in system.  <a href="#ga20e4f91287f50df937981e64f8f29e1a">More...</a><br/></td></tr>
<tr class="separator:ga20e4f91287f50df937981e64f8f29e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Simple timer module. </p>
<p>Supported features and limitations:</p>
<ul>
<li>Two modes: single shot mode and repeated mode.</li>
<li>No more than one timer can run simultaneously.</li>
<li>The timer is hard-coded to use the TIMER1 peripheral and compare channel 0. </li>
</ul>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gad7076002d6f9bc89a678c94a49c061e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00681.html#gad7076002d6f9bc89a678c94a49c061e4">app_simple_timer_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer modes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggad7076002d6f9bc89a678c94a49c061e4a189bddae8d6e0965ca9a12c83dc8a35a"></a>APP_SIMPLE_TIMER_MODE_SINGLE_SHOT</em>&nbsp;</td><td class="fielddoc">
<p>The timer will expire only once. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggad7076002d6f9bc89a678c94a49c061e4a7ac2ba9bfb3b1b37c0eb0acb06a9a9f7"></a>APP_SIMPLE_TIMER_MODE_REPEATED</em>&nbsp;</td><td class="fielddoc">
<p>The timer will restart each time it expires. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga7763826e316676eefab5416529f2da18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_simple_timer_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for configuring and setting up the timer hardware. </p>
<dl class="section note"><dt>Note</dt><dd>Configuration parameters should be set in nrf_drv_config.h file. The TIMER1_CONFIG_MODE has to be set to NRF_TIMER_MODE_TIMER value. The TIMER1_CONFIG_BIT_WIDTH has to be set to NRF_TIMER_BIT_WIDTH_16 value.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the operation is successful. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the operation fails because the timer is already initialized. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>If the operation fails because some configuration parameter is not valid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gadb5a3205c34aa67769059f8fa7f63b3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_simple_timer_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00681.html#gad7076002d6f9bc89a678c94a49c061e4">app_simple_timer_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00681.html#ga483768f93042f5718cc9e194936a8918">app_simple_timer_timeout_handler_t</a>&#160;</td>
          <td class="paramname"><em>timeout_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout_ticks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for starting a timer. </p>
<dl class="section note"><dt>Note</dt><dd>If this function is called for a timer that is already running, the currently running timer is stopped before starting the new one.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Timer mode (see <a class="el" href="a00681.html#gad7076002d6f9bc89a678c94a49c061e4">app_simple_timer_mode_t</a>). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_handler</td><td>Function to be executed when the timer expires (see <a class="el" href="a00681.html#ga483768f93042f5718cc9e194936a8918">app_simple_timer_timeout_handler_t</a>). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ticks</td><td>Number of timer ticks to time-out event. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_context</td><td>General purpose pointer. Will be passed to the time-out handler when the timer expires.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the operation is successful. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_STATE</td><td>If the operation fails because <a class="el" href="a00681.html#ga7763826e316676eefab5416529f2da18">app_simple_timer_init</a> has not been called and the operation is not allowed in this state. </td></tr>
    <tr><td class="paramname">NRF_ERROR_NULL</td><td>If the operation fails because timeout_handler is NULL. </td></tr>
    <tr><td class="paramname">NRF_ERROR_INVALID_PARAM</td><td>If the operation fails because "mode" parameter is not valid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2de31d54126b0f7ee6ac7c6f8a1bec51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_simple_timer_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for stopping the timer. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the operation is successful. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga20e4f91287f50df937981e64f8f29e1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t app_simple_timer_uninit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for uninitializing the timer. Should be called also when the timer is not used anymore to reach lowest power consumption in system. </p>
<dl class="section note"><dt>Note</dt><dd>The function switches off the internal core of the timer to reach lowest power consumption in system. The startup time from this state may be longer compared to starting the timer from the stopped state.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the operation is successful. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 7 2015 14:36:46 for nRF51 SDK - S120 SoftDevice by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
